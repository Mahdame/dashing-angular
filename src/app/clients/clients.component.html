
<div class="container">
  <!-- LIST -->
  <div class="col-50">
    <mat-card>
      <mat-card-header>
        <mat-card-title>
          <h1>Clients</h1>
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-list>
          <mat-list-item
            *ngFor="let client of clients"
            (click)="setCurrentClient(client)">
            <h3 mat-line>{{client.name}}</h3>
            <button mat-icon-button (click)="deleteClient(client.id);$event.stopImmediatePropagation();">
              <mat-icon>close</mat-icon>
            </button>
            <p mat-line>
              {{client.description}}
            </p>
          </mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  </div>
  <!-- DETAILS -->
  <div class="col-50">
    <mat-card>
      <mat-card-header>
        <div *ngIf="currentClient.id">
          <img mat-card-avatar [src]="currentClient.img" [alt]="currentClient.name"/>
        </div>
        <mat-card-title>
          <h1 *ngIf="currentClient.id; else prompt">Editing {{currentClient.name}}</h1>
          <ng-template #prompt><h1>Create</h1></ng-template>
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form #formRef="ngForm">
          <mat-form-field class="full-width">
            <input matInput placeholder="Name" required
              [(ngModel)]="currentClient.name" type="text" name="name">
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Description"
              [(ngModel)]="currentClient.description" type="text" name="description">
          </mat-form-field>
        </form>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button (click)="saveClient(currentClient)" [disabled]="!formRef.valid">Save</button>
        <button mat-button (click)="cancel()">Cancel</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
